<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cap√≠tulo 15 ‚Äì Buenas pr√°cticas y accesibilidad</title>
  <link rel="stylesheet" href="./css/general.css" />
  <link rel="stylesheet" href="./css/prism.css" />
</head>
<body>
  <div class="layout">
    <button id="menu-toggle" aria-label="Mostrar men√∫" class="menu-toggle">‚ò∞</button>
    <aside class="sidebar">
      <nav>
        <h2>√çndice</h2>
        <ul>
          <li><a href="capitulo1.html">1. Introducci√≥n</a></li>
          <li><a href="capitulo2.html">2. Instalaci√≥n y configuraci√≥n</a></li>
          <li><a href="capitulo3.html">3. Estructura de un componente</a></li>
          <li><a href="capitulo4.html">4. Decoradores en profundidad</a></li>
          <li><a href="capitulo5.html">5. Ciclo de vida</a></li>
          <li><a href="capitulo6.html">6. Slots y Shadow DOM</a></li>
          <li><a href="capitulo7.html">7. Comunicaci√≥n entre componentes</a></li>
          <li><a href="capitulo8.html">8. Integraci√≥n con APIs</a></li>
          <li><a href="capitulo9.html">9. Testing avanzado</a></li>
          <li><a href="capitulo10.html">10. Optimizaci√≥n</a></li>
          <li><a href="capitulo11.html">11. Librer√≠as escalables</a></li>
          <li><a href="capitulo12.html">12. Storybook</a></li>
          <li><a href="capitulo13.html">13. Publicaci√≥n</a></li>
          <li><a href="capitulo14.html">14. Composici√≥n avanzada</a></li>
          <li><a href="capitulo15.html" class="active">15. Buenas pr√°cticas</a></li>
          <li><a href="capitulo16.html">16. Proyecto final</a></li>
        </ul>
      </nav>
    </aside>

    <main class="content">
      <h1>Cap√≠tulo 15: Buenas pr√°cticas y accesibilidad</h1>

      <section>
        <h2>Buenas pr√°cticas generales en Stencil</h2>
        <ul>
          <li>‚úÖ Mant√©n componentes peque√±os y enfocados (single responsibility)</li>
          <li>‚úÖ Usa nombres sem√°nticos y claros</li>
          <li>‚úÖ Usa <code class="inline-code">@Prop()</code> para entrada, <code class="inline-code">@Event()</code> para salida</li>
          <li>‚úÖ Prefiere <code class="inline-code">shadow: true</code> salvo que necesites estilos globales</li>
          <li>‚úÖ Agrupa componentes relacionados por dominio funcional</li>
          <li>üö´ No mezcles l√≥gica de negocio con presentaci√≥n visual</li>
        </ul>
      </section>

      <section>
        <h2>Principios de accesibilidad</h2>
        <p>Accesibilidad (a11y) significa que tu aplicaci√≥n puede ser usada por personas con discapacidad. Todo componente debe cumplir con:</p>
        <ul>
          <li>üëÅÔ∏è Ser legible (contraste)</li>
          <li>‚å®Ô∏è Ser navegable por teclado</li>
          <li>üîä Ser usable por lectores de pantalla</li>
          <li>üß† Tener un orden l√≥gico de foco y contenido</li>
        </ul>
      </section>

      <section>
        <h2>Navegaci√≥n por teclado</h2>
        <p>
          Aseg√∫rate de que los elementos interactivos puedan enfocarse y responder a eventos como <code class="inline-code">keydown</code>, <code class="inline-code">Enter</code> o <code class="inline-code">Space</code>.
        </p>
        <pre><code class="language-tsx">
<span class="tag">&lt;button</span> <span class="attr-name">tabindex</span>=<span class="string">"0"</span> <span class="attr-name">onKeyDown</span>=<span class="string">"{handleKey}"</span><span class="tag">&gt;</span>
  Enviar
<span class="tag">&lt;/button&gt;</span>
        </code></pre>
        <p>Evita usar solo <code class="inline-code">div</code> para cosas clicables. Usa <code class="inline-code">button</code> o a√±ade <code class="inline-code">role="button"</code>.</p>
      </section>

      <section>
        <h2>Atributos y roles ARIA</h2>
        <p>Los <strong>atributos ARIA</strong> mejoran la comprensi√≥n sem√°ntica para tecnolog√≠as asistidas:</p>
        <ul>
          <li><code class="inline-code">aria-label</code>: descripci√≥n textual</li>
          <li><code class="inline-code">aria-hidden="true"</code>: ignora un nodo</li>
          <li><code class="inline-code">role="dialog"</code>: sem√°ntica de di√°logo</li>
          <li><code class="inline-code">aria-expanded</code>: estados de colapsado</li>
          <li><code class="inline-code">aria-checked</code>, <code class="inline-code">aria-pressed</code>: estados interactivos</li>
        </ul>
        <p>√ösalos cuando el HTML por s√≠ solo no sea suficientemente informativo.</p>
      </section>

      <section>
        <h2>Contraste y visibilidad</h2>
        <p>
          Aseg√∫rate de que el texto tiene contraste suficiente con el fondo. El nivel m√≠nimo recomendado es AA (4.5:1).
        </p>
        <p>
          Tambi√©n debe haber <strong>indicadores de foco</strong> claros. No los ocultes con <code class="inline-code">outline: none</code>.
        </p>
      </section>

      <section>
        <h2>Componentes accesibles en Stencil</h2>

        <h3>Bot√≥n personalizado accesible</h3>
        <pre><code class="language-tsx">
<span class="comment">// mi-boton.tsx</span>
render() {
  <span class="keyword">return</span> (
    <span class="tag">&lt;button</span> 
      class="btn" 
      role="button" 
      aria-label={this.texto}
    <span class="tag">&gt;</span>
      {this.texto}
    <span class="tag">&lt;/button&gt;</span>
  );
}
        </code></pre>

        <h3>Modal accesible</h3>
        <ul>
          <li>Usa <code class="inline-code">role="dialog"</code></li>
          <li>Incluye <code class="inline-code">aria-modal="true"</code> y <code class="inline-code">aria-labelledby</code></li>
          <li>Captura <code class="inline-code">Escape</code> para cerrar</li>
          <li>Devuelve el foco al elemento previo</li>
        </ul>

        <h3>Input accesible</h3>
        <p>Asocia siempre un <code class="inline-code">label</code> con su <code class="inline-code">input</code> usando <code class="inline-code">for</code> + <code class="inline-code">id</code> o <code class="inline-code">aria-labelledby</code>.</p>
      </section>

      <section>
        <h2>Testing de accesibilidad</h2>
        <ul>
          <li><strong>Lighthouse</strong>: en Chrome DevTools</li>
          <li><strong>Axe DevTools</strong>: extensi√≥n para navegadores</li>
          <li><strong>NVDA / VoiceOver</strong>: lectores de pantalla reales</li>
          <li><strong>Teclado</strong>: prueba con <kbd>Tab</kbd>, <kbd>Enter</kbd>, <kbd>Escape</kbd></li>
        </ul>
      </section>

      <section>
        <h2>Resumen de buenas pr√°cticas</h2>
        <ul>
          <li>‚úÖ Usa sem√°ntica HTML siempre que sea posible</li>
          <li>‚úÖ Gestiona el foco correctamente</li>
          <li>‚úÖ Usa ARIA solo como complemento</li>
          <li>‚úÖ Prueba tus componentes con teclado y lectores</li>
          <li>‚úÖ Documenta accesibilidad en Storybook o README</li>
        </ul>
      </section>

      <section class="exercise">
        <h3>üß† Ejercicio pr√°ctico</h3>
        <p>Crea un componente <code class="inline-code">&lt;modal-a11y&gt;</code> con:</p>
        <ul>
          <li>Prop <code class="inline-code">abierto</code> para mostrar/ocultar</li>
          <li><code class="inline-code">role="dialog"</code>, <code class="inline-code">aria-modal="true"</code></li>
          <li><code class="inline-code">aria-labelledby</code> que apunte a un <code class="inline-code">&lt;h2&gt;</code></li>
          <li>Captura de tecla <code class="inline-code">Escape</code></li>
          <li>Retorno del foco al elemento que lo activ√≥</li>
        </ul>
      </section>
    </main>
  </div>

  <script src="./js/menu.js"></script>
</body>
</html>
