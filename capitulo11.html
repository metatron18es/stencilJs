<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CapÃ­tulo 11 â€“ LibrerÃ­as escalables</title>
  <link rel="stylesheet" href="./css/general.css" />
  <link rel="stylesheet" href="./css/prism.css" />
</head>
<body>
  <div class="layout">
    <button id="menu-toggle" aria-label="Mostrar menÃº" class="menu-toggle">â˜°</button>
    <aside class="sidebar">
      <nav>
        <h2>Ãndice</h2>
        <ul>
          <li><a href="capitulo1.html">1. IntroducciÃ³n</a></li>
          <li><a href="capitulo2.html">2. InstalaciÃ³n y configuraciÃ³n</a></li>
          <li><a href="capitulo3.html">3. Estructura de un componente</a></li>
          <li><a href="capitulo4.html">4. Decoradores en profundidad</a></li>
          <li><a href="capitulo5.html">5. Ciclo de vida</a></li>
          <li><a href="capitulo6.html">6. Slots y Shadow DOM</a></li>
          <li><a href="capitulo7.html">7. ComunicaciÃ³n entre componentes</a></li>
          <li><a href="capitulo8.html">8. IntegraciÃ³n con APIs</a></li>
          <li><a href="capitulo9.html">9. Testing avanzado</a></li>
          <li><a href="capitulo10.html">10. OptimizaciÃ³n</a></li>
          <li><a href="capitulo11.html">11. LibrerÃ­as escalables</a></li>
          <li><a href="capitulo12.html">12. Storybook</a></li>
          <li><a href="capitulo13.html">13. PublicaciÃ³n</a></li>
          <li><a href="capitulo14.html">14. Buenas prÃ¡cticas</a></li>
          <li><a href="capitulo15.html">15. Proyecto final</a></li>
        </ul>
      </nav>
    </aside>

    <main class="content">
      <h1>CapÃ­tulo 11: LibrerÃ­as escalables</h1>

      <section>
        <h2>ğŸ—ï¸ Pensar en escalabilidad desde el inicio</h2>
        <p>
          Cuando desarrollas una librerÃ­a de componentes con Stencil, es fundamental pensar en su estructura y organizaciÃ³n a largo plazo. Debe ser fÃ¡cil de mantener, ampliar, testear y documentar.
        </p>
      </section>

      <section>
        <h2>ğŸ“ Estructura de carpetas recomendada</h2>
        <pre><code class="language-bash">
mi-libreria/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ boton/
â”‚   â”‚   â”‚   â”œâ”€â”€ boton.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ boton.css
â”‚   â”‚   â”‚   â””â”€â”€ boton.spec.tsx
â”‚   â”‚   â”œâ”€â”€ tarjeta/
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ formateadores.ts
â”‚   â”œâ”€â”€ interfaces/
â”‚   â”‚   â””â”€â”€ producto.ts
â”‚   â””â”€â”€ global/
â”‚       â””â”€â”€ estilos.css
â”œâ”€â”€ stencil.config.ts
â”œâ”€â”€ package.json
        </code></pre>
        <p>Separar lÃ³gica, estilos y tipos mejora la mantenibilidad.</p>
      </section>

      <section>
        <h2>ğŸ”§ Compartir utilidades entre componentes</h2>
        <p>
          Puedes usar una carpeta <code class="inline-code">utils</code> para compartir funciones entre componentes:
        </p>
        <pre><code class="language-ts">
// utils/formateadores.ts
<span class="keyword">export function</span> <span class="function">capitalizar</span>(texto: <span class="type">string</span>): <span class="type">string</span> {
  <span class="keyword">return</span> texto.charAt(0).toUpperCase() + texto.slice(1);
}
        </code></pre>
        <p>
          Y en un componente:
        </p>
        <pre><code class="language-tsx">
<span class="keyword">import</span> { capitalizar } <span class="keyword">from</span> <span class="string">'../../utils/formateadores'</span>;
        </code></pre>
      </section>

      <section>
        <h2>ğŸ“¦ Exportar solo lo necesario</h2>
        <p>
          En el archivo <code class="inline-code">src/index.ts</code>, puedes controlar quÃ© componentes y utilidades se exponen:
        </p>
        <pre><code class="language-ts">
// index.ts
<span class="keyword">export</span> * <span class="keyword">from</span> <span class="string">'./components'</span>;
<span class="keyword">export</span> * <span class="keyword">from</span> <span class="string">'./utils/formateadores'</span>;
        </code></pre>
        <p>Esto evita que otros importen archivos internos directamente.</p>
      </section>

      <section>
        <h2>ğŸ” Componentes genÃ©ricos y reutilizables</h2>
        <p>Evita crear componentes acoplados. DiseÃ±a pensando en su reutilizaciÃ³n:</p>
        <ul>
          <li>Evita lÃ³gica de negocio interna</li>
          <li>Haz que reciban datos vÃ­a <code class="inline-code">@Prop()</code></li>
          <li>Permite composiciÃ³n usando <code class="inline-code">&lt;slot&gt;</code></li>
        </ul>
      </section>

      <section>
        <h2>ğŸ§± Agrupar componentes relacionados</h2>
        <p>
          Puedes organizar componentes por dominio o categorÃ­a:
        </p>
        <pre><code class="language-bash">
src/components/
â”œâ”€â”€ ui/
â”‚   â”œâ”€â”€ boton/
â”‚   â”œâ”€â”€ icono/
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ tabla-productos/
â”‚   â”œâ”€â”€ tarjeta-producto/
        </code></pre>
      </section>

      <section>
        <h2>ğŸš¨ Control de versiones semÃ¡ntico</h2>
        <p>
          Si la librerÃ­a se publica (ver capÃ­tulo 13), sigue control de versiones semÃ¡ntico:
        </p>
        <ul>
          <li><code class="inline-code">MAJOR</code>: cambios incompatibles</li>
          <li><code class="inline-code">MINOR</code>: nuevas funcionalidades</li>
          <li><code class="inline-code">PATCH</code>: correcciÃ³n de errores</li>
        </ul>
      </section>

      <section>
        <h2>ğŸ“„ Documentar tipos e interfaces</h2>
        <p>
          Usa <code class="inline-code">interfaces</code> bien tipadas y comÃ©ntalas para mejorar la DX:
        </p>
        <pre><code class="language-ts">
<span class="comment">/** Representa un producto de catÃ¡logo */</span>
<span class="keyword">export interface</span> <span class="class-name">Producto</span> {
  <span class="variable">id</span>: <span class="type">number</span>;
  <span class="variable">nombre</span>: <span class="type">string</span>;
  <span class="variable">precio</span>: <span class="type">number</span>;
}
        </code></pre>
      </section>

      <section class="exercise">
        <h3>ğŸ§  Ejercicio prÃ¡ctico</h3>
        <p>
          Crea la estructura inicial de una librerÃ­a llamada <code class="inline-code">mi-ui-kit</code> que incluya:
        </p>
        <ul>
          <li>Un botÃ³n genÃ©rico</li>
          <li>Una tarjeta con <code class="inline-code">&lt;slot&gt;</code></li>
          <li>Una carpeta <code class="inline-code">utils</code> con una funciÃ³n de formateo de fecha</li>
          <li>Una interfaz <code class="inline-code">Usuario</code> con nombre y edad</li>
        </ul>
        <p>Organiza todo siguiendo el patrÃ³n de escalabilidad explicado.</p>
      </section>
    </main>
  </div>

  <footer class="footer">
  <p>&copy; 2025 Curso Avanzado de Stencil.js. Creado por Roberto de la Casa. Todos los derechos reservados.</p>
</footer>
<script src="./js/menu.js"></script>
</body>
</html>
