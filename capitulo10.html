<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cap√≠tulo 10 ‚Äì Optimizaci√≥n</title>
  <link rel="stylesheet" href="./css/general.css" />
  <link rel="stylesheet" href="./css/prism.css" />
</head>
<body>
  <div class="layout">
    <button id="menu-toggle" aria-label="Mostrar men√∫" class="menu-toggle">‚ò∞</button>
    <aside class="sidebar">
      <nav>
        <h2>√çndice</h2>
        <ul>
          <li><a href="capitulo1.html">1. Introducci√≥n</a></li>
          <li><a href="capitulo2.html">2. Instalaci√≥n y configuraci√≥n</a></li>
          <li><a href="capitulo3.html">3. Estructura de un componente</a></li>
          <li><a href="capitulo4.html">4. Decoradores en profundidad</a></li>
          <li><a href="capitulo5.html">5. Ciclo de vida</a></li>
          <li><a href="capitulo6.html">6. Slots y Shadow DOM</a></li>
          <li><a href="capitulo7.html">7. Comunicaci√≥n entre componentes</a></li>
          <li><a href="capitulo8.html">8. Integraci√≥n con APIs</a></li>
          <li><a href="capitulo9.html">9. Testing avanzado</a></li>
          <li><a href="capitulo10.html">10. Optimizaci√≥n</a></li>
          <li><a href="capitulo11.html">11. Librer√≠as escalables</a></li>
          <li><a href="capitulo12.html">12. Storybook</a></li>
          <li><a href="capitulo13.html">13. Publicaci√≥n</a></li>
          <li><a href="capitulo14.html">14. Buenas pr√°cticas</a></li>
          <li><a href="capitulo15.html">15. Proyecto final</a></li>
        </ul>
      </nav>
    </aside>

    <main class="content">
      <h1>Cap√≠tulo 10: Optimizaci√≥n</h1>

      <section>
        <h2>‚öôÔ∏è ¬øPor qu√© optimizar?</h2>
        <p>
          Optimizar tus componentes de Stencil reduce el tama√±o del bundle, mejora la carga inicial y garantiza una experiencia r√°pida, sobre todo en dispositivos m√≥viles o conexiones lentas.
        </p>
      </section>

      <section>
        <h2>üì¶ Lazy loading autom√°tico</h2>
        <p>
          Stencil carga de forma autom√°tica los componentes cuando se usan por primera vez. Esta carga diferida (lazy loading) reduce el tama√±o inicial del JS descargado.
        </p>
        <p>
          No necesitas configurarlo: si un componente no est√° en la primera vista, se cargar√° bajo demanda.
        </p>
      </section>

      <section>
        <h2>üß© Dividir componentes grandes</h2>
        <p>
          Divide los componentes con mucha l√≥gica en otros m√°s peque√±os. Esto:
        </p>
        <ul>
          <li>Mejora la legibilidad</li>
          <li>Permite que Stencil genere bundles m√°s peque√±os</li>
          <li>Facilita el testeo y la reutilizaci√≥n</li>
        </ul>
      </section>

      <section>
        <h2>üîç Evitar renders innecesarios</h2>
        <ul>
          <li>Usa <code class="inline-code">@Prop()</code> solo cuando sea necesario</li>
          <li>Evita actualizar el <code class="inline-code">@State()</code> si el valor no ha cambiado</li>
          <li>Haz uso de <code class="inline-code">shouldComponentUpdate</code> (cuando es cr√≠tico)</li>
        </ul>
      </section>

      <section>
        <h2>üöÄ Activar prerendering</h2>
        <p>
          Stencil permite generar contenido est√°tico (HTML pre-renderizado) para cada ruta en tiempo de build. Esto mejora el SEO y la carga inicial.
        </p>
        <p>
          Solo necesitas activar el prerender en el archivo <code class="inline-code">stencil.config.ts</code>:
        </p>
        <pre><code class="language-ts">
<span class="keyword">export const</span> config = {
  namespace: <span class="string">'mi-app'</span>,
  prerenderConfig: <span class="string">'./prerender.config.ts'</span>,
  outputTargets: [
    {
      type: <span class="string">'www'</span>,
      prerender: <span class="keyword">true</span>,
    }
  ]
};
        </code></pre>
      </section>

      <section>
        <h2>üéØ Shadow DOM como aislamiento</h2>
        <p>
          El uso de <code class="inline-code">shadow: true</code> en <code class="inline-code">@Component()</code> a√≠sla los estilos y mejora el rendimiento de re-render, ya que limita el scope de actualizaci√≥n.
        </p>
      </section>

      <section>
        <h2>üßπ Eliminar dependencias innecesarias</h2>
        <p>
          Revisa tu <code class="inline-code">package.json</code> para eliminar paquetes no usados. Tambi√©n puedes usar herramientas como <code class="inline-code">webpack-bundle-analyzer</code> o <code class="inline-code">source-map-explorer</code> para identificar qu√© est√° ocupando m√°s espacio.
        </p>
      </section>

      <section>
        <h2>‚è±Ô∏è Medir el rendimiento</h2>
        <p>
          Puedes usar Lighthouse (desde Chrome DevTools) para auditar el rendimiento de tu aplicaci√≥n. Presta atenci√≥n a m√©tricas como:
        </p>
        <ul>
          <li><strong>First Contentful Paint (FCP)</strong></li>
          <li><strong>Time to Interactive (TTI)</strong></li>
          <li><strong>Largest Contentful Paint (LCP)</strong></li>
        </ul>
      </section>

      <section class="exercise">
        <h3>üß† Ejercicio pr√°ctico</h3>
        <p>
          Optimiza un componente que contenga muchos elementos visuales (<code class="inline-code">&lt;galeria-imagenes&gt;</code>) aplicando:
        </p>
        <ul>
          <li>Lazy loading de im√°genes</li>
          <li>Separaci√≥n del componente en subcomponentes</li>
          <li>Shadow DOM para encapsular estilos</li>
        </ul>
        <p>
          Verifica los resultados usando Lighthouse o cualquier analizador de bundle.
        </p>
      </section>
    </main>
  </div>

  <footer class="footer">
  <p>&copy; 2025 Curso Avanzado de Stencil.js. Creado por Roberto de la Casa. Todos los derechos reservados.</p>
</footer>
<script src="./js/menu.js"></script>
</body>
</html>
