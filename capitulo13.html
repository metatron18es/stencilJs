<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cap√≠tulo 13 ‚Äì Publicaci√≥n</title>
  <link rel="stylesheet" href="./css/general.css" />
  <link rel="stylesheet" href="./css/prism.css" />
</head>
<body>
  <div class="layout">
    <button id="menu-toggle" aria-label="Mostrar men√∫" class="menu-toggle">‚ò∞</button>
    <aside class="sidebar">
      <nav>
        <h2>√çndice</h2>
        <ul>
          <li><a href="capitulo1.html">1. Introducci√≥n</a></li>
          <li><a href="capitulo2.html">2. Instalaci√≥n y configuraci√≥n</a></li>
          <li><a href="capitulo3.html">3. Estructura de un componente</a></li>
          <li><a href="capitulo4.html">4. Decoradores en profundidad</a></li>
          <li><a href="capitulo5.html">5. Ciclo de vida</a></li>
          <li><a href="capitulo6.html">6. Slots y Shadow DOM</a></li>
          <li><a href="capitulo7.html">7. Comunicaci√≥n entre componentes</a></li>
          <li><a href="capitulo8.html">8. Integraci√≥n con APIs</a></li>
          <li><a href="capitulo9.html">9. Testing avanzado</a></li>
          <li><a href="capitulo10.html">10. Optimizaci√≥n</a></li>
          <li><a href="capitulo11.html">11. Librer√≠as escalables</a></li>
          <li><a href="capitulo12.html">12. Storybook</a></li>
          <li><a href="capitulo13.html">13. Publicaci√≥n</a></li>
          <li><a href="capitulo14.html">14. Buenas pr√°cticas</a></li>
          <li><a href="capitulo15.html">15. Proyecto final</a></li>
        </ul>
      </nav>
    </aside>

    <main class="content">
      <h1>Cap√≠tulo 13: Publicaci√≥n</h1>

      <section>
        <h2>üéØ Objetivo</h2>
        <p>Publicar tu librer√≠a de componentes Web en distintos entornos:</p>
        <ul>
          <li><strong>NPM</strong>: para usarla como dependencia en otros proyectos</li>
          <li><strong>CDN</strong>: para usar directamente en HTML</li>
          <li><strong>Repositorios privados</strong>: para entornos internos</li>
        </ul>
      </section>

      <section>
        <h2>üî® Generar la build de distribuci√≥n</h2>
        <p>Stencil necesita compilarse antes de ser publicado. Lanza:</p>
        <pre><code class="language-bash">npm run build</code></pre>
        <p>Esto generar√° las carpetas <code class="inline-code">dist/</code> y <code class="inline-code">dist-custom-elements/</code>, necesarias para NPM o distribuci√≥n directa.</p>

        <p>En <code class="inline-code">stencil.config.ts</code> aseg√∫rate de incluir:</p>
        <pre><code class="language-ts">
export const config: Config = {
  namespace: 'mi-ui',
  outputTargets: [
    { type: 'dist' },
    { type: 'dist-custom-elements' },
    {
      type: 'www',
      serviceWorker: null
    }
  ]
};
        </code></pre>
      </section>

      <section>
        <h2>üì¶ Configurar <code class="inline-code">package.json</code></h2>
        <p>Configura los campos clave para la publicaci√≥n:</p>
        <pre><code class="language-json">
{
  "name": "mi-ui-kit",
  "version": "1.0.0",
  "description": "Componentes Web construidos con Stencil.js",
  "main": "dist/index.js",
  "module": "dist/index.mjs",
  "types": "dist/types/index.d.ts",
  "files": ["dist/", "dist-custom-elements/"],
  "keywords": ["web-components", "stencil", "ui-kit"],
  "author": "Tu Nombre",
  "license": "MIT",
  "publishConfig": {
    "access": "public"
  }
}
        </code></pre>
      </section>

      <section>
        <h2>üîê Autenticaci√≥n en NPM</h2>
        <p>Ejecuta:</p>
        <pre><code class="language-bash">npm login</code></pre>
        <p>Luego publica tu paquete:</p>
        <pre><code class="language-bash">npm publish</code></pre>
        <p>Si es la primera vez, aseg√∫rate de que tu nombre de paquete no est√© en uso, o usa <code class="inline-code">@scope</code>.</p>
      </section>

      <section>
        <h2>üåê Uso desde un CDN</h2>
        <p>Una vez publicado en NPM, puedes usarlo directamente desde un HTML:</p>
        <pre><code class="language-html">
&lt;script type="module" src="https://cdn.jsdelivr.net/npm/mi-ui-kit@1.0.0/dist/mi-ui-kit/mi-ui-kit.esm.js"&gt;&lt;/script&gt;
&lt;mi-boton texto="Hola"&gt;&lt;/mi-boton&gt;
        </code></pre>
        <p>Tambi√©n puedes usar <code class="inline-code">unpkg</code>:</p>
        <pre><code class="language-html">
&lt;script type="module" src="https://unpkg.com/mi-ui-kit@1.0.0/dist/mi-ui-kit/mi-ui-kit.esm.js"&gt;&lt;/script&gt;
        </code></pre>
      </section>

      <section>
        <h2>üè¢ Publicaci√≥n en entornos privados</h2>
        <p>Para entornos corporativos puedes usar:</p>
        <ul>
          <li><code class="inline-code">npm pack</code> para crear un paquete local</li>
          <li><strong>GitHub Packages</strong>: a√±adiendo un scope y configurando el registry</li>
          <li><strong>Verdaccio</strong>: servidor NPM privado local</li>
        </ul>
        <pre><code class="language-bash">
npm pack
npm publish --registry https://npm.tu-empresa.com
        </code></pre>
      </section>

      <section>
        <h2>üìÅ Uso como librer√≠a en otro proyecto</h2>
        <p>Una vez publicada, se puede usar como dependencia:</p>
        <pre><code class="language-bash">
npm install mi-ui-kit
        </code></pre>
        <p>Y se carga en tu HTML con:</p>
        <pre><code class="language-html">
&lt;script type="module" src="/node_modules/mi-ui-kit/dist/mi-ui-kit/mi-ui-kit.esm.js"&gt;&lt;/script&gt;
        </code></pre>
      </section>

      <section>
        <h2>üß™ Validar la publicaci√≥n</h2>
        <p>Antes de publicar, puedes probar la instalaci√≥n localmente:</p>
        <pre><code class="language-bash">
npm pack
npm install ./mi-ui-kit-1.0.0.tgz
        </code></pre>
        <p>Esto simula la publicaci√≥n y descarga como si viniera de NPM.</p>
      </section>

      <section class="exercise">
        <h3>üß† Ejercicio pr√°ctico</h3>
        <p>
          Publica tu propia librer√≠a con al menos dos componentes (<code class="inline-code">&lt;mi-boton&gt;</code> y <code class="inline-code">&lt;mi-alerta&gt;</code>), configurando:
        </p>
        <ul>
          <li>Build con <code class="inline-code">dist</code> y <code class="inline-code">dist-custom-elements</code></li>
          <li><code class="inline-code">package.json</code> bien estructurado</li>
          <li>Publicaci√≥n en NPM o simulada con <code class="inline-code">npm pack</code></li>
          <li>Uso posterior desde HTML o como dependencia</li>
        </ul>
      </section>
    </main>
  </div>

  <footer class="footer">
  <p>&copy; 2025 Curso Avanzado de Stencil.js. Creado por Roberto de la Casa. Todos los derechos reservados.</p>
</footer>
<script src="./js/menu.js"></script>
</body>
</html>
